import{r as o}from"./components-CZY7GKuT.js";function c(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function d(t){let i=t,n=!1;const e=new Set;return{getState(){return i},updateState(r){i=typeof r=="function"?r(i):r},setState(r){this.updateState(r),e.forEach(a=>a(i))},initialize(r){n||(i=r,n=!0)},subscribe(r){return e.add(r),()=>e.delete(r)}}}function f(t){return o.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}const l=()=>d({notifications:[],queue:[],limit:5}),s=l(),b=(t=s)=>f(t);function u(t,i){const n=t.getState(),e=i([...n.notifications,...n.queue]);t.setState({notifications:e.slice(0,n.limit),queue:e.slice(n.limit),limit:n.limit})}function S(t,i=s){const n=t.id||c();return u(i,e=>t.id&&e.some(r=>r.id===t.id)?e:[...e,{...t,id:n}]),n}function m(t,i=s){return u(i,n=>n.filter(e=>{var r;return e.id===t?((r=e.onClose)==null||r.call(e,e),!1):!0})),t}function p(t,i=s){return u(i,n=>n.map(e=>e.id===t.id?{...e,...t}:e)),t.id}function h(t=s){u(t,()=>[])}function N(t=s){u(t,i=>i.slice(0,t.getState().limit))}const q={show:S,hide:m,update:p,clean:h,cleanQueue:N,updateState:u};export{q as a,m as h,s as n,c as r,S as s,b as u};
